"use strict";(self.webpackChunkdeveloper_official_site=self.webpackChunkdeveloper_official_site||[]).push([[4327],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>d});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),c=s(n),d=i,k=c["".concat(p,".").concat(d)]||c[d]||u[d]||r;return n?a.createElement(k,o(o({ref:t},m),{},{components:n})):a.createElement(k,o({ref:t},m))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},17768:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var a=n(83117),i=(n(67294),n(3905));n(8209);const r={toc:[]};function o(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},r,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"transactionTime")," ",(0,i.kt)("font",{color:"#7d8793"},"Timestamp")," ",(0,i.kt)("font",{color:"#f19938"},"Required"),"  "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The time the transaction occurred, in milliseconds since epoch",(0,i.kt)("sup",null,(0,i.kt)("a",{href:"#fn1",id:"ref1"},"1")),".  "),(0,i.kt)("li",{parentName:"ul"},"Example value: ",(0,i.kt)("inlineCode",{parentName:"li"},"1581493898000")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"orderNo")," ",(0,i.kt)("font",{color:"#7d8793"},"String")," ",(0,i.kt)("font",{color:"#f19938"},"Required"),"  "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Unique identifier for the Botim Money Business order.  "),(0,i.kt)("li",{parentName:"ul"},"Example value: ",(0,i.kt)("inlineCode",{parentName:"li"},"O1000"),"  "),(0,i.kt)("li",{parentName:"ul"},"Maximum length: ",(0,i.kt)("inlineCode",{parentName:"li"},"32")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"amount")," ",(0,i.kt)("font",{color:"#7d8793"},"Money")," ",(0,i.kt)("font",{color:"#f19938"},"Required"),"  "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The amount of money deposited.  "),(0,i.kt)("li",{parentName:"ul"},"Example value: ",(0,i.kt)("inlineCode",{parentName:"li"},"100.00")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"status")," ",(0,i.kt)("font",{color:"#7d8793"},"String")," ",(0,i.kt)("font",{color:"#f19938"},"Required"),"  "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The current status of the deposit.  "),(0,i.kt)("li",{parentName:"ul"},"Possible values:  ",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"SUCCESS"),": The deposit was successful.  "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"FAILED"),": The deposit failed.  "))),(0,i.kt)("li",{parentName:"ul"},"Example value: ",(0,i.kt)("inlineCode",{parentName:"li"},"SUCCESS"),"  "),(0,i.kt)("li",{parentName:"ul"},"Maximum length: ",(0,i.kt)("inlineCode",{parentName:"li"},"32")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"referenceNo")," ",(0,i.kt)("font",{color:"#7d8793"},"String"),"  "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"External reference number for the transaction.  "),(0,i.kt)("li",{parentName:"ul"},"Example value: ",(0,i.kt)("inlineCode",{parentName:"li"},"REF123456"),"  "),(0,i.kt)("li",{parentName:"ul"},"Maximum length: ",(0,i.kt)("inlineCode",{parentName:"li"},"200")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"remitterInfo")," ",(0,i.kt)("font",{color:"#7d8793"},"String"),"  "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Information about the person or entity sending the funds.  "),(0,i.kt)("li",{parentName:"ul"},"Example value: ",(0,i.kt)("inlineCode",{parentName:"li"},"John Doe"),"  "),(0,i.kt)("li",{parentName:"ul"},"Maximum length: ",(0,i.kt)("inlineCode",{parentName:"li"},"200")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"senderBankCode")," ",(0,i.kt)("font",{color:"#7d8793"},"String"),"  "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Bank code of the sender\u2019s bank.  "),(0,i.kt)("li",{parentName:"ul"},"Example value: ",(0,i.kt)("inlineCode",{parentName:"li"},"HSBC001"),"  "),(0,i.kt)("li",{parentName:"ul"},"Maximum length: ",(0,i.kt)("inlineCode",{parentName:"li"},"200")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"depositDetails")," ",(0,i.kt)("font",{color:"#7d8793"},"String"),"  "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Additional details or notes about the deposit.  "),(0,i.kt)("li",{parentName:"ul"},"Example value: ",(0,i.kt)("inlineCode",{parentName:"li"},"Invoice #4567"),"  "),(0,i.kt)("li",{parentName:"ul"},"Maximum length: ",(0,i.kt)("inlineCode",{parentName:"li"},"200")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"collectIBAN")," ",(0,i.kt)("font",{color:"#7d8793"},"String"),"  "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"IBAN where the funds are collected.  "),(0,i.kt)("li",{parentName:"ul"},"Example value: ",(0,i.kt)("inlineCode",{parentName:"li"},"AE070331234567890123456"),"  "),(0,i.kt)("li",{parentName:"ul"},"Maximum length: ",(0,i.kt)("inlineCode",{parentName:"li"},"200"))))),(0,i.kt)("hr",null),(0,i.kt)("ol",null,(0,i.kt)("li",{id:"fn1"},(0,i.kt)("p",null,"Epoch typically refers to a specific point in time, expressed as the number of milliseconds (or seconds) that have elapsed since January 1, 1970, 00:00:00 UTC\u2014commonly known as the Unix epoch.",(0,i.kt)("a",{href:"#ref1"},"\u21a9")))))}o.isMDXComponent=!0;const l={sidebar_position:1,toc_max_heading_level:6},p="Asynchronous Notification",s={unversionedId:"VAM Top-up/async_notif_vam_topup",id:"VAM Top-up/async_notif_vam_topup",title:"Asynchronous Notification",description:"When a VAM top-up occurs, Botim Money Business will send relevant top-up information to the merchant through a data stream. The merchant needs to receive and process this information, and return a response according to the document specifications.",source:"@site/docs/6_VAM Top-up/async_notif_vam_topup.mdx",sourceDirName:"6_VAM Top-up",slug:"/VAM Top-up/async_notif_vam_topup",permalink:"/docs/VAM Top-up/async_notif_vam_topup",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,toc_max_heading_level:6},sidebar:"tutorialSidebar",previous:{title:"VAM Top-up"},next:{title:"Transfer to Bank Card"}},m={},u=[{value:"Request",id:"request",level:2},{value:"Http Header",id:"http-header",level:3},{value:"Http Body",id:"http-body",level:3},{value:"Notification Sample",id:"notification-sample",level:3},{value:"Response",id:"response",level:2},{value:"Http Header",id:"http-header-1",level:3},{value:"Http Body",id:"http-body-1",level:3}],c={toc:u};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"asynchronous-notification"},"Asynchronous Notification"),(0,i.kt)("p",null,"When a VAM top-up occurs, Botim Money Business will send relevant top-up information to the merchant through a data stream. The merchant needs to receive and process this information, and return a response according to the document specifications."),(0,i.kt)("p",null," ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("font",{color:"#f19938"},"Note"))),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The same notification may be sent to the merchant system multiple times. The merchant system must be able to correctly handle duplicate notifications."),(0,i.kt)("li",{parentName:"ol"},"During backend notification interactions, if Botim Money Business receives a response from the merchant that does not conform to specifications or times out, Botim Money Business will determine this notification as failed and resend the notification until successful (default retry 7 times with intervals: 2, 10, 10, 60, 120, 360, 900 minutes). However, Botim Money Business does not guarantee that notifications will ultimately succeed."),(0,i.kt)("li",{parentName:"ol"},"In cases where the order status is unclear or no Botim Money Business payment result notification is received, it is recommended that merchants actively call the order query interface to confirm the order status.")),(0,i.kt)("h2",{id:"request"},"Request"),(0,i.kt)("h3",{id:"http-header"},"Http Header"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Attributes"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Content-Type"),"    ",(0,i.kt)("font",{color:"#7d8793"},"String"),"  ",(0,i.kt)("font",{color:"#f19938"},"Required")),(0,i.kt)("p",{parentName:"li"},"The media type. Required for operations with a request body. The value is ",(0,i.kt)("inlineCode",{parentName:"p"},"application/<format>"),", where ",(0,i.kt)("inlineCode",{parentName:"p"},"format")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"json"),"."),(0,i.kt)("p",{parentName:"li"},"Example value: ",(0,i.kt)("inlineCode",{parentName:"p"},"application/json")))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"sign"),"   ",(0,i.kt)("font",{color:" #7d8793"},"String"),"   ",(0,i.kt)("font",{color:"#f19938"},"Required")),(0,i.kt)("p",{parentName:"li"},"When Botim Money Business sends response, Botim Money Business will use its own private key to sign the message, and the merchant uses Botim Money Business 's public key to verify the signature. If the verification is passed, it proves that the response was sent by Botim Money Business and not faked by others.")))),(0,i.kt)("h3",{id:"http-body"},"Http Body"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"notify_timestamp"),"  ",(0,i.kt)("font",{color:" #7d8793"},"Timestamp"),"  ",(0,i.kt)("font",{color:"#f19938"},"Required")),(0,i.kt)("p",{parentName:"li"},"The timestamp when Botim Money Business sent the request."),(0,i.kt)("p",{parentName:"li"},"Example value: 1586849271877"))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"notify_id"),"  ",(0,i.kt)("font",{color:" #7d8793"},"String"),"  ",(0,i.kt)("font",{color:"#f19938"},"Required")),(0,i.kt)("p",{parentName:"li"},"The unique identification number of this notification within the Botim Money Business system."),(0,i.kt)("p",{parentName:"li"},"Example value: 202004140007474501"))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"vamDepositOrder"),"   ",(0,i.kt)("font",{color:" #7d8793"},"Object"),"  ",(0,i.kt)("font",{color:"#f19938"},"Required")),(0,i.kt)("details",{open:!0},(0,i.kt)("summary",null,"Attributes"),(0,i.kt)(o,{mdxType:"VAMDepositOrder"})))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("font",{color:"grey"},"**notify_time**"),"  ",(0,i.kt)("font",{color:" #7d8793"},"String"),(0,i.kt)("p",{parentName:"li"},"The parameter is deprecated. Please use the ",(0,i.kt)("inlineCode",{parentName:"p"},"notify_timestamp")," instead."))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("font",{color:"grey"},"**_input_charset**"),"  ",(0,i.kt)("font",{color:" #7d8793"},"String"),(0,i.kt)("p",{parentName:"li"},"The parameter is deprecated. "))),(0,i.kt)("h3",{id:"notification-sample"},"Notification Sample"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'// HTTP request headers\nHttp Header\n{\n  "Content-Type": "application/json; charset=UTF-8"\n}\n\n// HTTP request body containing the notification data\nHttp Body\n{\n  "notify_time": "20241224061738",  // Notification timestamp in format YYYYMMDDHHMMSS\n  "vamDepositOrder": {\n    "remitterInfo": "MR HUA JIANG",  // Name of the person sending the funds\n    "amount": {\n      "amount": 3000,                // Transaction amount (in smallest currency unit)\n      "currency": "AED"              // Currency code (ISO 4217 format)\n    },\n    "orderNo": "131727701521486397", // Botim Money Business internal order number\n    "referenceNo": "UFOC0HQ008",     // External reference number\n    "senderBankCode": "BBMEAEADXXX", // SWIFT code of the sender\'s bank\n    "depositDetails": "REF AEV260832YLQ4K5D FIS 56057df891a0449584dc5c8d84a6a138", // Additional deposit details/memo\n    "transactionTime": 1727701521000, // Transaction timestamp in milliseconds (Unix epoch)\n    "status": "SUCCESS"              // Transaction status (SUCCESS/FAILED/PENDING)\n  },\n  "_input_charset": "UTF-8",         // Character encoding of the request\n  "notify_timestamp": 1735006658869, // System notification timestamp in milliseconds\n  "notify_id": "202409300013926551"  // Unique notification identifier\n}\n\n')),(0,i.kt)("h2",{id:"response"},"Response"),(0,i.kt)("p",null,"Please reply ",(0,i.kt)("inlineCode",{parentName:"p"},"success")," after receiving the notification, otherwise Botim Money Business will send the notification repeatedly for the same order."),(0,i.kt)("h3",{id:"http-header-1"},"Http Header"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Content-Type"),"    ",(0,i.kt)("font",{color:"#7d8793"},"String"),"  ",(0,i.kt)("font",{color:"#f19938"},"Required")),(0,i.kt)("p",{parentName:"li"},"The media type. Required for operations with a request body. The value is ",(0,i.kt)("inlineCode",{parentName:"p"},"application/<format>"),", where ",(0,i.kt)("inlineCode",{parentName:"p"},"format")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"json"),"."),(0,i.kt)("p",{parentName:"li"},"Example value: application/json"))),(0,i.kt)("h3",{id:"http-body-1"},"Http Body"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"response"),"  ",(0,i.kt)("font",{color:" #7d8793"},"String"),"  ",(0,i.kt)("font",{color:"#f19938"},"Required")),(0,i.kt)("p",{parentName:"li"},"Example value: Success"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'// Http Header\n{\n "Content-Type": "application/json; charset=UTF-8" \n}\n\n// Http Body\n{\n    "response":"SUCCESS"\n}\n')))}d.isMDXComponent=!0},8209:(e,t,n)=>{n(67294)}}]);