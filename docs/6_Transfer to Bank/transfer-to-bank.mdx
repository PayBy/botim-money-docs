---
sidebar_position: 2
toc_max_heading_level: 6
---

import BizContent from './_biz-content.mdx'
import ResponseHead from '../4_Refund/_response-head.mdx'
import TransferToBankOrder from './_transfer-to-bank-order.mdx'
import RequestHeader from '../_request-header.mdx'

# Transfer to Bank

> **Note:** Before using this API, please use [Payout Capability](./list-countries-and-currencies.mdx) API to retrieve the supported payout methods and which parameters need to be passed for each payout method. If the currency of received amount is not AED, please use the [Rate Calculator](./rate-calculator.mdx) API to get the latest exchange rate.


## API URL

- UAT : https://uat.test2pay.com/sgs/api/transfer/placeTransferToBankOrder
- Production : https://api.payby.com/sgs/api/transfer/placeTransferToBankOrder

## Request

### Http Header

<details>
  <summary>Attributes</summary>
  <RequestHeader/>
</details>

### Http Body

- **requestTime**   <font color = ' #7d8793'>Timestamp</font>   <font color = '#f19938'>Required</font>

  Request time of the order. If the request time is more than 15 minutes away from the current time, the request will be rejected. This parameter is used to prevent repeated requests for orders that should have been cancelled due to timeouts.
  
  Example value: 1581493898000


- **bizContent**   <font color = ' #7d8793'>Object</font>  

    <details open={true}>
    <summary>Attributes</summary>
      <BizContent />
    </details>

### Beneficiary Type

Required and optional fields for different beneficiary types.

|          | holderName | iban      | swiftCode | beneficiaryAddress | accountNo | bankName | fedwireCode | branchName | intermediaryBank | purposeCode |
| -------- | ---------- | --------- | --------- | ------------------ | --------- | -------- | ----------- | ---------- | ---------------- | ----------- |
| IBAN     | Required   | Required  | Optional  | Required           | Forbidden | Optional | Forbidden   | Optional   | Optional         | Optional    |
| BBAN     | Required   | Forbidden | Required  | Required           | Required  | Optional | Forbidden   | Optional   | Optional         | Optional    |
| FED_WIRE | Required   | Forbidden | Forbidden | Required           | Required  | Optional | Required    | Optional   | Optional         | Optional    |


### Request Sample

```json
//Http Header
{
    "Content-Language": "en",
    "Content-Type": "application/json",
    "Partner-Id": "200000018128",
    "sign": "S5Wr6x9Po1SX3nm4kRJyTueUMbnmsPGMlMjc3PcoyNyP0G5BuRAwauYjTJLeto6Bu1+893zCGmj201mjrvcXP4v/uMzQxRav5PBMp9VuQ+3dOFGclQAwr8cFAKuBDHhGAAkw1iVpdC8ZZLGl/jRUv3PCiZh6VyOLnrK7ZIevB/TetQSzCmN1xDIQo8mpDYz7YY/jSzYBnD17ePvkr4qQOWNUh7FF2nd29lo9KOQl5tJVoqT/D+PVSlZeuGr+wxBYCAyGqbVXXSAGcwF1egF6ISLJ29jpHcX/LACXxF/uf5cdzbudwPB2X0wtRw9WnowY3RUq34sidoF4DIShXVFHAg=="
}

//Http Body
{
    "bizContent": {
        "amount": {
            "amount": 10000.01,
            "currency": "AED"
        },
    "holderName": "Ia4P2qP4k5aHqmHGRxJQ22BPa3OOUjOAU/Q7yqL4/aYjOrXn/aoCTLnmHHk0hOUSuY9JIRmI+nUarrEf8DneTL4GX9A1PJHRLpAcHSddRMSqlCJwSi6pnF6VFmuIO9r58V0qd79mKvH7TawGzNVEpVYbDaCB9RzXjdHCeGZtNxx/+J1D57j65hlfcrDGvE6pirNM4DwIadSMhI8uLdCxVXylTNXfAPGGir0FSapPLw+U01RJsj8Nn3648zwK6aIsyfw5SiMfDuSyG8tAkLHCrhggch3wRy8LO/O+SoAjxXELV1nfWlUss7UNc474neV+XrPUUkpxWdgBlsppo/rPyA==",
    "iban": "FGoM+d3ZxmySExYhZv+SeDHmNn6KdVmsCxIrOncjc1Q+UVeoXkQOOOdomPF+8HuY5klrjELjYbDLaon7OGTms5t8Zl6h10S/2+Oz2MuOPy6YAgWGefAgCsCwCqhiTz6XjJGXyTKYaWKhdKALULMQ2PQ2jMYCOIN5rWKm4HJpN+4Zk1vpKx7BZCkdjB4k3YlvR+3Zsy9azul5ETbAMODqzz4nQmd6NdeFlsaPJzO7TMFv/TCFQ71XlTXzoJfmGCKcocDW3e+48NNodldjQyRAIFv33wSJBz/3kInGRKIchU4NjLQKTLUyaVgGyDpfBff1ROzz8EEbfNhNBV0ZA1vYSg==",
    "beneficiaryAddress": "G1xlowAqVqN0FtSe6qgjfw+dF3MAyiPZM83HvAbqXrL/kb6UayNPu4ThCct2sEtlWstvfdrJEBqAkJ+M/H6K7gVsyJTyReuIpisleNFRCxkkKKVTPh9nr/OizaIp9D5Aj/nkHRR4v1ZoiDkGwffeGkdkbQK/RUEUyDammvKGGGx72jWxayfjPWJw9xCe5UTsi9me/TkWTjV4wyIqVMW4+oAqmJGFSSCHHyXBXal1YJ8bhN7KiHschmEQK0p8pTF/GWKT5ShPMguSEaLEDO3NtCS0OPy918974SQPI2mmZyYjrjo6Qb8EJ2MuZ0k2MQATiZ5E4zaqjByVQRvbv3WFyg==",
    "memo": "Your memo",
    "merchantOrderNo": "M015631044551",
    "notifyUrl": "http://www.yoursite.com",
    "swiftCode": "BBMEAEAD", 
    "riskInfo":{
        "scene":"casino",
        "level":"hight"
      }
    },
    "requestTime": 1585142880000
}
```

## Response

### Http Header

**sign**   <font color = ' #7d8793'>String</font>   <font color = '#f19938'>Required</font>

When Botim Money sends response, Botim Money will use its own private key to sign the message, and the merchant uses Botim Money 's public key to verify the signature. If the verification is passed, it proves that the response was sent by Botim Money and not faked by others.

### Http Body


**head**

  <details>
  <summary>Attributes</summary>
    <ResponseHead />
  </details>

**body** 

**<font color = '#f19938'>Notice</font>**

  Body is returned only when `applystatus` = `success`, and `code` = `0`.
  If `applystatus` = `error` or `failed`;  or `applystatus` = `success`, `code` !=`0` , that indicates an error. Please check errors and try again.

- **transferToBankOrder**   <font color = ' #7d8793'>Object</font>

  <details open={true}>
  <summary>Attributes</summary>
    <TransferToBankOrder />
  </details>

### Response Sample

```json
//Http Header
{
    "sign": "Yv+C2lOQmfERdm5GF9b2V4Y98HmX/6CFyconeOW36AoPqcb7InRcP9E5GnvJLfMoCScuNP4FBdJ5tJpL0A7yPHUMfxARi05jFRSMG97JJazDbWTbRkNM1ZupmTubhUvxvRCgvJp1k0c5yrHph+F+++W5eYho92xnkNgd62BS27i0iDRGzGSmsaPpK7MFcdlvnbbnmDZZJ0LH6RhYiJLYKl+znllQx3jNfCRjV28o22FZ35Q43mZTsS4uAZWbZ/KfaqWoV3sN62Cjj8DSg3mD6GCGWSVbxLq58DUxAq+6GwJ7Gj0Dc9nMXP3gnFW7dodQ9AjL2iHnH6Zh1Pw2D5/ung=="
}

//Http Body
{
    "head": {
        "applyStatus": "SUCCESS",
        "code": "0",
        "msg": "SUCCESS",
        "traceCode": "0837"
    },
    "body": {
        "transferToBankOrder": {
            "amount": {
                "amount": 10000.01,
                "currency": "AED"
            },
            "holderName": "00d74f270d2251e8fa6e7f3b1ea06bd3b5f32dfe4719f9df60982c55b24e4898",
            "iban": "1fc44f25c178c422f705054c669cfa6133f6dc8e1fe24b3d96f847667db8b92c",
            "beneficiaryAddress": "ec36f7ed0f1095595da9a506c1cb352c9b89b69c4ceb2c562128c7241661afde",
            "memo": "Your memo",
            "merchantOrderNo": "M015631044551",
            "notifyUrl": "http://www.yoursite.com",
            "orderNo": "911585140792004126",
            "product": "Transfer To Bank",
            "requestTime": 1585140792398,
            "status": "CREATED",
            "swiftCode": "BBME AEAD"
        }
    }
}
```

## Status Code

| **Status**   | **Description**     |
|--------------|---------------------|
| CREATED      | Created             |
| SUCCESS      | Successful          |
| FAILURE      | Failed              |
| BANK_FAIL    | Bank Rejected       |


## Response Codes

| **Code** | **Message**                             | **Cause**                          | **Workaround**         |
|---------|------------------------------------------|------------------------------------------------|----------------------------------|
| 0       | SUCCESS                                  | Success                                         |                                  |
| 400     | INVALID_PARAMETER                        | Parameter error                                 | Adjust request parameters        |
| 400     | REQUESTTIME_TOO_EARLY                    | Request time is too early compared to current   | Adjust request time              |
| 400     | REQUESTTIME_TOO_LATER                    | Request time is too late compared to current    | Adjust request time              |
| 402     | RATE_LIMIT_REJECT                        | Requests are too frequent                       | Reduce request frequency         |
| 403     | UNAUTHORIZED                             | API not authorized                              | Contact Botim Money                    |
| 404     | SERVICE_NOT_AVAILABLE                    | API service unavailable                         | Contact Botim Money                    |
| 500     | SYSTEM_ERROR                             | System error                                    | Contact Botim Money, try again later   |
| 504     | SERVICE_TIMEOUT                          | Service timeout                                 | Try again later                  |
| 601     | RISK_FAIL                                | Risk control verification failed                | Adjust business logic            |
| 62002   | ORDER_FAILURE                            | Order has failed                                | Adjust merchant order number     |
| 62016   | MERCHANT_ORDER_NO_EXIST                  | Same order number with different business params| Adjust order number              |
| 62026   | PRODUCT_IS_NOT_APPLIED                   | Product not applied                             | Apply for the product            |
| 62028   | ORDER_SUCCESS                            | Order already successful                        | Adjust merchant order number     |
| 62029   | ORDER_CREATED                            | Order already created                           | Adjust merchant order number     |
|          |                         |                                                  |                                      |

